webpackJsonp(["app/js/wechat-inform/index"],{"83432841679e8e5f79e3":function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7ab4a89ebadbfdecc2bf"),n=s(i),o=a("4602c3f5fe7ad9e3e91d"),c=s(o),r=a("9181c6995ae8c5c94b7a");a("d5e8fa5f17ac5fe79c78");var d="WECHAT_QRCODE_SHOW_",h=function(){function e(){(0,n.default)(this,e),this.$section=$(".js-wechat-inform"),this.$pendant=$(".js-wechat-pendant"),this.$qrcode=$(".js-wechat-qrcode"),this.$mask=$(".js-wechat-mask"),this.todayDate=(new Date).getDate(),this.key=d+this.$section.data("userId"),this.init()}return(0,c.default)(e,[{key:"init",value:function(){store.get(this.key)&&store.get(this.key)==this.todayDate||this.$section.removeClass("hidden"),this.bindEvent(),this.initImg()}},{key:"bindEvent",value:function(){var e=this;this.$section.on("click",".js-wechat-close-btn",function(t){return e.closeWechatInform(t)}),this.$section.on("click",".js-wechat-pendant",function(t){return e.showQrcode(t)})}},{key:"closeWechatInform",value:function(e){store.get(this.key)&&store.get(this.key)==this.todayDate||store.set(this.key,this.todayDate);var t=$(e.currentTarget);e.stopPropagation(),t.parent().hide();var a=void 0;(0,r.isMobileDevice)()?(this.$mask.hide(),a="cd-text-sm",$("body").removeClass("wechat-inform-body")):a="cd-text-md",cd.message({type:"info",message:Translator.trans("wechat.notification.homepage.open_tip",{messageClass:a}),delay:"3000",action:{title:Translator.trans("wechat.notification.homepage.open_tip_title",{messageClass:a}),url:this.$section.data("url")}})}},{key:"showQrcode",value:function(e){var t=$(e.currentTarget);(0,r.isMobileDevice)()&&($("body").addClass("wechat-inform-body"),this.$mask.show()),t.addClass("hidden"),this.$qrcode.removeClass("hidden")}},{key:"initImg",value:function(){var e=$(".js-wechat-pendant");void 0!==e.data("url")&&$.get(e.data("url"),function(e){$(".wechat-inform-qrcode__img").attr("src",e.img)})}}]),e}();t.default=h,new h}},["83432841679e8e5f79e3"]);