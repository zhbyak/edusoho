webpackJsonp(["app/js/settings/security-questions/index"],{0:function(e,t){e.exports=jQuery},"72ebb29c15450c32283a":function(e,t,n){"use strict";var s=n("f9ff574815af2ac7731d");new(function(e){return e&&e.__esModule?e:{default:e}}(s).default)({element:"#settings-security-questions-form",saveBtn:"#password-save-btn"})},f9ff574815af2ac7731d:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("7ab4a89ebadbfdecc2bf"),a=s(i),r=n("4602c3f5fe7ad9e3e91d"),u=s(r),o=n("b334fd7e4c5a19234db2"),c=s(o),l=function(){function e(t){(0,a.default)(this,e),this.element=t.element,this.saveBtn=t.saveBtn,this.$q1=$("[name=question-1]"),this.$q2=$("[name=question-2]"),this.$q3=$("[name=question-3]"),this.selectOptions=[],this.init()}return(0,u.default)(e,[{key:"init",value:function(){this.validator(),this.initEvent()}},{key:"initEvent",value:function(){var e=this;$(this.element);this.changeOptions(),cd.select({el:".js-cd-select"}).on("beforeChange",function(t,n){if(e.selectOptions.includes(t))throw(0,c.default)("danger",Translator.trans("user.settings.security.security_questions.type_duplicate_hint")),new Error(Translator.trans("user.settings.security.security_questions.type_duplicate_hint"))}).on("change",function(t,n){e.changeOptions()})}},{key:"changeOptions",value:function(){var e=this;this.selectOptions=[],[this.$q1,this.$q2,this.$q3].forEach(function(t){e.selectOptions.push(t.val())})}},{key:"validator",value:function(){var e=this.saveBtn;$(this.element).validate({currentDom:e,ajax:!0,rules:{"answer-1":{required:!0,maxlength:20},"answer-2":{required:!0,maxlength:20},"answer-3":{required:!0,maxlength:20},userLoginPassword:"required"},submitSuccess:function(e){(0,c.default)("success",Translator.trans(e.message)),$(".modal").modal("hide"),window.location.reload()},submitError:function(e){(0,c.default)("danger",Translator.trans(e.responseJSON.message))}})}}]),e}();t.default=l}},["72ebb29c15450c32283a"]);