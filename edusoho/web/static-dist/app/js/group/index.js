webpackJsonp(["app/js/group/index"],{0:function(t,o){t.exports=jQuery},"3b408ff117f4a7077554":function(t,o,e){"use strict";var a=e("b334fd7e4c5a19234db2"),i=(function(t){t&&t.__esModule}(a),e("4833bf6727a52ba97d0c"));(0,i.initThread)(),(0,i.initThreadReplay)();$("#thread-list").on("click",".uncollect-btn, .collect-btn",function(){var t=$(this);$.post(t.data("url"),function(){t.hide(),t.hasClass("collect-btn")?t.parent().find(".uncollect-btn").show():t.parent().find(".collect-btn").show()})}),$(".attach").tooltip(),$(".group-post-list").length>0&&($(".group-post-list").on("click",".li-reply",function(){var t=$(this).attr("postId"),o=$(this).data("fromUserId");$("#fromUserIdDiv").html('<input type="hidden" id="fromUserId" value="'+o+'">'),$("#li-"+t).show(),$("#reply-content-"+t).focus(),$("#reply-content-"+t).val(Translator.trans("group.post.reply_hint")+" "+$(this).attr("postName")+":")}),$(".group-post-list").on("click",".reply",function(){var t=$(this).attr("postId");if(""!=$(this).data("fromUserIdNosub")){var o=$(this).data("fromUserIdNosub");$("#fromUserIdNoSubDiv").html('<input type="hidden" id="fromUserIdNosub" value="'+o+'">'),$("#fromUserIdDiv").html("")}$(this).hide(),$("#unreply-"+t).show(),$(".reply-"+t).css("display","")}),$(".group-post-list").on("click",".unreply",function(){var t=$(this).attr("postId");$(this).hide(),$("#reply-"+t).show(),$(".reply-"+t).css("display","none")}),$(".group-post-list").on("click",".replyToo",function(){var t=$(this).attr("postId");"hidden"==$(this).attr("data-status")?($(this).attr("data-status",""),$("#li-"+t).show(),$("#reply-content-"+t).focus(),$("#reply-content-"+t).val("")):($("#li-"+t).hide(),$(this).attr("data-status","hidden"))}),$(".group-post-list").on("click",".lookOver",function(){var t=$(this).attr("postId");$(".li-reply-"+t).css("display",""),$(".lookOver-"+t).hide(),$(".paginator-"+t).css("display","")}),$(".group-post-list").on("click",".postReply-page",function(){var t=$(this).attr("postId");$.post($(this).data("url"),"",function(o){$("body,html").animate({scrollTop:$("#post-"+t).offset().top},300),$(".reply-post-list-"+t).replaceWith(o)})})),$("#hasAttach").length>0&&$(".ke-icon-accessory").addClass("ke-icon-accessory-red"),$("#post-action").length>0&&($("#post-action").on("click","#closeThread",function(){var t=$(this);if(!confirm(t.attr("title")+"?"))return!1;$.post(t.data("url"),function(t){window.location.href=t})}),$("#post-action").on("click","#elite,#stick,#cancelReward",function(){var t=$(this);$.post(t.data("url"),function(t){window.location.href=t})})),$(".actions").length>0&&$(".group-post-list").on("click",".post-delete-btn,.post-adopt-btn",function(){var t=$(this);if(!confirm(t.attr("title")+"?"))return!1;$.post(t.data("url"),function(){window.location.reload()})})},"4833bf6727a52ba97d0c":function(t,o,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(o,"__esModule",{value:!0}),o.initThreadReplay=o.initThread=void 0;var i=e("368dea3cc0de5c9bffcd"),n=a(i),r=e("b7b955d31d3c6acc3b71"),s=e("b334fd7e4c5a19234db2"),l=a(s),c=e("d5fb0e67d2d4c1ebaaed"),d=a(c);o.initThread=function(){var t="#post-thread-btn",o=$("#post-thread-form");new d.default(o),$("#post_content").length&&(0,r.initEditor)({toolbar:"Thread",replace:"post_content"});var e=o.validate({currentDom:t,ajax:!0,rules:{content:{required:!0,minlength:2,trim:!0}},submitSuccess:function(t){if("/login"==t)return void(window.location.href=t);window.location.reload()}});$(t).click(function(){e.form()})},o.initThreadReplay=function(){$(".thread-post-reply-form").each(function(){var t=$(this),o=t.find("textarea").attr("name"),e=t.validate({ignore:"",rules:(0,n.default)({},""+o,{required:!0,minlength:2,trim:!0}),submitHandler:function(t){var o=$(t).find(".reply-btn"),e=o.attr("postId"),a="";a=$("#fromUserId").length>0?$("#fromUserId").val():$("#fromUserIdNosub").length>0?$("#fromUserIdNosub").val():"",o.button("submiting").addClass("disabled"),$.ajax({url:$(t).attr("action"),data:"content="+$(t).find("textarea").val()+"&postId="+e+"&fromUserId="+a,cache:!1,async:!1,type:"POST",dataType:"text",success:function(t){if("/login"==t)return void(window.location.href=t);window.location.reload()},error:function(t){t=$.parseJSON(t.responseText),t.error?(0,l.default)("danger",t.error.message):(0,l.default)("danger",Translator.trans("group.post.reply_fail_hint")),o.button("reset").removeClass("disabled")}})}});t.find("button").click(function(t){e.form()})})}},b7b955d31d3c6acc3b71:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.initEditor=function(t){var o=CKEDITOR.replace(t.replace,{toolbar:t.toolbar,fileSingleSizeLimit:app.fileSingleSizeLimit,filebrowserImageUploadUrl:$("#"+t.replace).data("imageUploadUrl"),allowedContent:!0,height:300});o.on("change",function(){$("#"+t.replace).val(o.getData())}),o.on("blur",function(){$("#"+t.replace).val(o.getData())})}}},["3b408ff117f4a7077554"]);