webpackJsonp(["app/js/auth/captcha-modal/index"],{0:function(a,t){a.exports=jQuery},"1934f3cb54a74b8f6029":function(a,t,e){"use strict";var n=e("601020d4b7c53037d8f9"),i=function(a){return a&&a.__esModule?a:{default:a}}(n),c="",s="";$('input[name="set_bind_emailOrMobile"]').length>0?(c="set_bind_emailOrMobile",s="sms_registration"):$('input[name="mobile"]').length>0?(c="mobile",s=$("#password-reset-by-mobile-form").length>0?"sms_forget_password":$("#settings-find-pay-password-form").length>0?"sms_forget_pay_password":"sms_bind"):(c=null==$('[name="verifiedMobile"]').val()?"emailOrMobile":"verifiedMobile",s="sms_registration"),$("#captcha-form").find("#getcode_num").attr("src",$("#getcode_num").data("url")+"?"+Math.random());new i.default($("#captcha-form"),c,s,"captcha_num")},"601020d4b7c53037d8f9":function(a,t,e){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("7ab4a89ebadbfdecc2bf"),c=n(i),s=e("4602c3f5fe7ad9e3e91d"),r=n(s),o=e("0282bb17fb83bfbfed9b"),l=n(o),d=function(){function a(t,e,n,i){(0,c.default)(this,a),this.$element=t,this.dataTo=e,this.smsType=n,this.captchaNum=i,this.CaptchaValidator=null,this.init()}return(0,r.default)(a,[{key:"init",value:function(){var a=this;this.$element.on("click","#getcode_num",function(t){return a.changeCaptcha(t)}),$(".js-captcha-btn").click(function(t){return a.submitForm(t)}),this.initValidator()}},{key:"changeCaptcha",value:function(a){var t=$(a.currentTarget);t.attr("src",t.data("url")+"?"+Math.random())}},{key:"submitForm",value:function(){this.CaptchaValidator.form()&&this.$element.submit()}},{key:"initValidator",value:function(){var a=this;this._captchaValidated=!1,this.CaptchaValidator=this.$element.validate({onkeyup:!1,onfocusout:!1,rules:{captcha_num:{required:!0,alphanumeric:!0}},messages:{captcha_num:{required:Translator.trans("auth.mobile_captcha_required_error_hint")}},submitHandler:function(t){$.get(a.$element.attr("action"),{value:$("#captcha_num_modal").val()},function(t){if(t.success){a.$element.parents(".modal").modal("hide"),a._captchaValidated=!0;new l.default({element:".js-sms-send",url:$(".js-sms-send").data("smsUrl"),smsType:a.smsType,dataTo:a.dataTo,captchaNum:a.captchaNum,captcha:!0,captchaValidated:a._captchaValidated,preSmsSend:function(){return!0}});$(".js-sms-send").off("click")}else a._captchaValidated=!1,a.$element.find("#getcode_num").attr("src",$("#getcode_num").data("url")+"?"+Math.random()),a.$element.find(".help-block").html('<span class="color-danger">'+Translator.trans("auth.mobile_captcha_error_hint")+"</span>"),a.$element.find(".help-block").show()},"json")}}),$("#captcha_num_modal").keydown(function(t){13==t.keyCode&&a.CaptchaValidator.form()})}}]),a}();t.default=d}},["1934f3cb54a74b8f6029"]);