webpackJsonp(["app/js/testpaper-manage/read/index"],{"39d310d4ad12934a07ab":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(e){if(!e)return!1;var t=o.attr("action"),r=o.attr("method");i.button("loading"),$.ajax({type:r,url:t,data:e,cache:!1,processData:!1,contentType:!1,success:function(e){i.button("reset"),!0===e.success?a(e):n(e)},error:function(e){i.button("reset"),d.val(""),e=e.responseJSON.error}})}function a(e){window.location.href=e.url}function n(e){p.addClass("hidden"),c.addClass("hidden"),f.html(e).removeClass("hidden"),g.removeClass("hidden")}var r=void 0,o=$("#import-step-form"),i=$("#upload-btn"),d=$("#form_file"),s=$("#upload-file-box"),l=document.getElementById("upload-file-box"),p=$("#old-template-btn"),c=$(".js-step1-view"),u=$(".js-step2-view"),f=$(".js-step3-view"),v=$(".js-step2-btn"),g=$(".js-step3-btn");d.on("change",function(e){var a=e.currentTarget.files;if(0===a.length)return!1;r=a[0].name;var n=r.split(".");n.pop(),r=n.join("."),t(new FormData(o[0]))}),s.on({dragleave:function(e){e.preventDefault(),e.stopPropagation()},drop:function(e){e.preventDefault(),e.stopPropagation()},dragenter:function(e){e.preventDefault(),e.stopPropagation()},dragover:function(e){e.preventDefault(),e.stopPropagation()}}),l.addEventListener("dragenter",function(e){s.toggleClass("bg-primary-light")},!1),l.addEventListener("dragleave",function(e){s.toggleClass("bg-primary-light")},!1),l.addEventListener("drop",function(e){s.removeClass("bg-primary-light");var a=e.dataTransfer.files;if(0===a.length)return!1;r=a[0].name;var n=r.split(".");n.pop(),r=n.join(".");var o=new FormData;o.append("importFile",a[0]),t(o)},!1),p.click(function(){var e=o.attr("action");e=e.replace(/read/g,"plumber"),$.ajax({type:"get",url:e}).done(function(e){$("#modal").html(e)})}),$("#re-import-btn").click(function(){p.removeClass("hidden"),c.removeClass("hidden"),u.addClass("hidden"),f.addClass("hidden"),v.addClass("hidden"),g.addClass("hidden"),d.val("")})};t.registerEvent=n},"71236681a536ad45c1a6":function(e,t,a){"use strict";var n=a("39d310d4ad12934a07ab"),r=$("#import-testpaper-box");(0,n.registerEvent)(r)}},["71236681a536ad45c1a6"]);