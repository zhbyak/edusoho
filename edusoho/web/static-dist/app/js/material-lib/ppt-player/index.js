webpackJsonp(["app/js/material-lib/ppt-player/index"],{"270a65613fa7b9d98ab9":function(e,t,n){"use strict";var l=n("f3c7e4fbf91afda92bf3"),a=function(e){return e&&e.__esModule?e:{default:e}}(l),s=$("#ppt-player"),i=s.data("params");new a.default({element:"#ppt-player",slides:i.images})},"995fd6b94bb84942a975":function(e,t){!function(){"use strict";var t=void 0!==e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,l=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,a=n.length,s={};l<a;l++)if((e=n[l])&&e[1]in document){for(l=0,t=e.length;l<t;l++)s[n[0][l]]=e[l];return s}return!1}(),a={request:function(e){var t=l.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():n?e[t](Element.ALLOW_KEYBOARD_INPUT):e[t]({navigationUI:"auto"})},exit:function(){document[l.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:l};if(!l)return void(t?e.exports=!1:window.screenfull=!1);Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(document[l.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[l.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[l.fullscreenEnabled])}}}),t?e.exports=a:window.screenfull=a}()},f3c7e4fbf91afda92bf3:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("cd078759ac479d74803f"),s=l(a),i=n("7ab4a89ebadbfdecc2bf"),r=l(i),c=n("4602c3f5fe7ad9e3e91d"),o=l(c),u=n("1ff717687cc04d94af8f"),f=l(u),d=n("3b1883fc74dc0f9509af"),p=l(d),h=n("63fff8fb24f3bd1f61cd"),g=l(h),v=n("995fd6b94bb84942a975"),m=l(v),A=function(e){function t(e){var n=e.element,l=e.slides,a=e.watermark;(0,r.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return i.element=$(n),i.slides=l||[],i.watermark=a||"",i._KEY_ACTION_MAP={37:i._onPrev,39:i._onNext,38:i._onLast,40:i._onFirst},i.total=i.slides.length,i._page=0,i.placeholder="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",i._init(),i}return(0,p.default)(t,e),(0,o.default)(t,[{key:"_render",value:function(){this.element.html('\n      <div class="slide-player">\n        <div class="slide-player-body loading-background"></div>\n        <div class="slide-notice">\n          <div class="header">{{ \'site.data_last_picture\'|trans }}\n            <button type="button" class="close">Ã—</button>\n          </div>\n        </div>\n      \n        <div class="slide-player-control clearfix">\n          <a href="javascript:" class="goto-first">\n            <span class="glyphicon glyphicon-step-backward"></span>\n          </a>\n          <a href="javascript:" class="goto-prev">\n            <span class="glyphicon glyphicon-chevron-left"></span>\n          </a>\n          <a href="javascript:" class="goto-next">\n            <span class="glyphicon glyphicon-chevron-right"></span>\n          </a>\n          <a href="javascript:" class="goto-last">\n            <span class="glyphicon glyphicon-step-forward"></span>\n          </a>\n          <a href="javascript:" class="fullscreen">\n            <span class="glyphicon glyphicon-fullscreen"></span>\n          </a>\n          <div class="goto-page-input">\n            <input type="text" class="goto-page form-control input-sm" value="1">&nbsp;/&nbsp;\n              <span class="total"></span>\n          </div>\n        </div>\n      </div>'),this.element.find(".total").text(this.total);var e=this.slides.reduce(function(e,t,n){return e+='<img data-src="'+t+'" class="slide" data-page="'+(n+1)+'">'},"");this.element.find(".slide-player-body").html(e),this.watermark&&this.element.append('<div class="slide-player-watermark">'+this.watermark+"</div>")}},{key:"_init",value:function(){this._render(),this._bindEvents(),this._onFirst()}},{key:"_lazyLoad",value:function(e){for(var t=e;t<e+4&&!(t>this.total);t++){var n=this._getSlide(t);n.attr("src")||n.attr("src",n.data("src"))}}},{key:"_getSlide",value:function(e){return this.element.find(".slide-player-body .slide").eq(e-1)}},{key:"_bindEvents",value:function(){var e=this;$(document).on("keydown",function(t){e._KEY_ACTION_MAP[t.keyCode]&&e._KEY_ACTION_MAP[t.keyCode].call(e)}),this.element.on("click",".goto-next",function(t){return e._onNext(t)}),this.element.on("click",".goto-prev",function(t){return e._onPrev(t)}),this.element.on("click",".goto-first",function(t){return e._onFirst(t)}),this.element.on("click",".goto-last",function(t){return e._onLast(t)}),this.element.on("click",".fullscreen",function(t){return e._onFullScreen(t)}),this.element.on("change",".goto-page",function(t){return e._onChangePage(t)});var t=this;this.on("change",function(n){var l=n.current;n.before;l==t.total&&t.emit("end",{page:e.total})})}},{key:"_onNext",value:function(){if(this.page===this.total)return void this.emit("end",{page:this.total});this.page++}},{key:"_onPrev",value:function(){1!=this.page&&this.page--}},{key:"_onFirst",value:function(){this.page=1}},{key:"_onLast",value:function(){this.page=this.total}},{key:"_onFullScreen",value:function(){var e=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(!m.default.enabled)return void(e&&$("#task-content-iframe",parent.document).toggleClass("ios-full-screen"));m.default.isFullscreen?m.default.toggle():m.default.request()}},{key:"_onChangePage",value:function(e){this.page=$(e.target).val()}},{key:"page",get:function(){return this._page},set:function(e){var t=this,n=this.page,l=e;l>this.total&&(this.element.find(".goto-page").val(l),this._page=l),l<1&&(this.element.find(".goto-page").val(n),this._page=n),n&&this.element.find(".slide-player-body .slide").eq(n-1).removeClass("active");var a=this._getSlide(l);a.attr("src")?a.addClass("active"):(a.load(function(){t._page==a.data("page")&&a.addClass("active")}),a.attr("src",a.data("src"))),this._lazyLoad(l),this.element.find(".goto-page").val(l),this._page=l,this.emit("change",{current:l,before:n})}}]),t}(g.default);t.default=A}},["270a65613fa7b9d98ab9"]);